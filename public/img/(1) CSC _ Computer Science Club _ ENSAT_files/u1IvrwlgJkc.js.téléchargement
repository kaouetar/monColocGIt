if (self.CavalryLogger) { CavalryLogger.start_js(["p83wE"]); }

__d("XRefererFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/common/referer_frame.php",{})}),null);
__d("isOculusDotComURI",["URI"],(function(a,b,c,d,e,f){var g=new RegExp("(^|\\.)oculus\\.com$","i"),h=["https"];function a(a){if(a.isEmpty()&&a.toString()!=="#")return!1;return!a.getDomain()&&!a.getProtocol()?!1:h.indexOf(a.getProtocol())!==-1&&g.test(a.getDomain())}e.exports=a}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","URI","UserAgent","XRefererFrameController","isBonfireURI","isMessengerDotComURI","isOculusDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){__p&&__p();var g={useFacebookReferer:function(a,c,d){__p&&__p();if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("Bootloader").loadModules(["BanzaiODS"],function(a){a.bumpEntityKey("defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var e=!1;function f(){if(e)return;var b=a.contentWindow.location.pathname;if(b!=="/intern/common/referer_frame.php"&&b!=="/common/referer_frame.php")return;e=!0;a.contentWindow.document.body.style.margin=0;c()}var g;void 0;b("isMessengerDotComURI")(b("URI").getRequestURI())||b("isBonfireURI")(b("URI").getRequestURI())?g=b("XRefererFrameController").getURIBuilder().getURI().toString():b("isOculusDotComURI")(b("URI").getRequestURI())?g="/common/referer_frame.php":!b("lowerFacebookDomain").isValidDocumentDomain()?g="/intern/common/referer_frame.php":b("UserAgent").isBrowser("Opera")?g=b("XRefererFrameController").getURIBuilder().getURI().toString():g=b("XRefererFrameController").getURIBuilder().getURI().qualify().setProtocol("https").setSubdomain("staticxx").toString();d&&(g+="?fb_source="+d);a.onload=f;a.src=g},useFacebookRefererHtml:function(a,b,c){g.useFacebookReferer(a,function(){a.contentWindow.document.body.innerHTML=b},c)}};e.exports=g}),null);
__d("TrackingPixel",["Arbiter","ControlledReferer","DeferredCookie","FBLogger"],(function(a,b,c,d,e,f){__p&&__p();var g={_iframe:undefined,loadWithNoReferrer:function(a){__p&&__p();if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("FBLogger")("tracking_pixel").mustfix("Attempting to load a TrackingPixel (%s) while cookies are deferred. This is not allowed because tracking pixels sometimes set cookies.",a);return}if(!g._iframe){var c=document.createElement("iframe");c.frameborder=0;c.width=c.height=1;c.style.position="absolute";c.style.top="-10px";b("ControlledReferer").useFacebookReferer(c,function(){b("Arbiter").inform("TrackingPixel/iframeIsLoaded",null,b("Arbiter").BEHAVIOR_PERSISTENT)},null);document.body.appendChild(c);g._iframe=c}b("Arbiter").subscribe("TrackingPixel/iframeIsLoaded",function(){var b=g._iframe.contentWindow;b=new b.Image();b.src=a})}};e.exports=g}),null);
__d("ExternalTrackingTag",["AsyncSignal","Event","TrackingPixel"],(function(a,b,c,d,e,f){var g={listenForElementClick:function(a,c,d,e,f){b("Event").listen(a,"click",function(){g.sendRequest(c,d,e,f)})},sendRequest:function(a,c,d,e){if(!a)return;new(b("AsyncSignal"))("/ads/external_tracking_tag/",{href:a,tracking_tag_id:c,adgroup_id:d,ad_id:e}).send();b("TrackingPixel").loadWithNoReferrer(a)}};e.exports=g}),null);
__d("FBLynxWrapper",["URI","isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";a={SUBDOMAIN:"l",SUBDOMAIN_M:"lm",PATH:"/",URL_PARAM:"u",ENC_PARAM:"e",isLynxLink:function(a){if(a.getAttribute("data-lynx-async-dest"))return!0;if(a.getAttribute("data-lynx-uri"))return!0;return b("isLinkshimURI")(new(b("URI"))(a.href))?!0:!1}};e.exports=a}),null);
__d("LitestandColumnManager",["Arbiter","BlueBar","Event","NavigationMessage","Run","SubscriptionsHandler","clamp","getScrollPosition"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=0,h=null;function i(){if(h)return;h=new(b("SubscriptionsHandler"))();h.addSubscriptions(b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,function(){l(0),j()}),b("Event").listen(window,"resize",function(){b("BlueBar").hasFixedBlueBar()||(l(0),j())}),b("Event").listen(window,"scroll",function(){k()||j()}));b("Run").onLeave(function(){return h&&h.release()})}function j(){h&&h.release(),h=null}function k(){if(g<=0)return!1;l(b("clamp")(b("getScrollPosition")(window).y,0,g));return g>0}function l(a){g=a}a={adjustVerticalWindowPosition:function(a,b){i(),l(b),window.scrollTo(a.x,a.y+g)}};e.exports=a}),null);
__d("LitestandStream",["csx","invariant","Arbiter","CSS","EventEmitter","LitestandColumnManager","Run","getScrollPosition","nullthrows"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=void 0,j=void 0,k=void 0,l=void 0,m=new(b("EventEmitter"))(),n={init:function(a,c,d,e){i=d,k=a,j=e,l||(l=b("Arbiter").subscribe("ufi/didUpdate",function(a,c){c.offsetY&&b("LitestandColumnManager").adjustVerticalWindowPosition(b("getScrollPosition")(window),c.offsetY)})),b("Run").onLeave(function(){l&&l.unsubscribe(),l=null,m.removeAllListeners("ready"),k=null}),m.emit("ready")},getStoriesSelector:function(){return"._5jmm"},getStreamRoot:function(){return k},getSectionID:function(){return i},getStoryID:function(){return j},isStory:function(a){return b("CSS").matchesSelector(a,"._5jmm")},getFeedStreamID:function(){return parseInt(b("nullthrows")(k).id.split("feed_stream_")[1],16)%1e8},isReady:function(){return!!k},addReadyListener:function(a){n.isReady()||h(0);return m.once("ready",a)}};e.exports=n}),null);
__d("FeedAdsClickLogger",["Arbiter","AsyncRequest","BanzaiODS","DataAttributeUtils","DOM","Event","ExternalTrackingTag","FBLynxWrapper","LitestandMessages","LitestandStream","Parent","SLConfig","TrackingNodes","URI","collectDataAttributes","curry","ge","gkx","goURI","isFacebookURI","isLinkshimURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={},h=!1,i,j=!1,k=b("gkx")("AT4J3UNTkKgkRWvRO-ukiKdVvtNPEcUNfJRcOMOoo5jU1ikVKqyfcDDfQs3WUnDR4WP3abR-3a6-3EEDN9hOyPhTMelpk5-QuaBtAsvYBksKCw");function l(a,c){b("goURI")(a.toString().replace("__md__=0","__md__=1")),b("Event").stop(c)}function m(){}m.prototype.init=function(a){i=b("SLConfig").gk.sl_replace_s,b("Arbiter").subscribe("ClickRefAction/new",this.onNewUserAction.bind(this)),b("Arbiter").subscribe("ClickRefAction/contextmenu",this.onNewUserAction.bind(this)),b("Arbiter").subscribe("ClickRefAction/middleclick",this.onNewUserAction.bind(this)),j=a.see_more_logging_enabled,a.append_tracking_data_to_links&&(this.appendTrackingDataToLinks(),b("Arbiter").subscribe(b("LitestandMessages").STORIES_INSERTED,this.appendTrackingDataToLinks.bind(this)),b("Arbiter").subscribe("FeedAdsClickLogger/refreshTrackingData",this.appendTrackingDataToLinks.bind(this),b("Arbiter").SUBSCRIBE_NEW))};m.prototype.getStories=function(){var a=b("LitestandStream").getStreamRoot();if(a)return b("DOM").scry(a,b("LitestandStream").getStoriesSelector());else{a=b("ge")("home_stream");if(a)return b("DOM").scry(a,".uiStreamStory")}return[]};m.prototype.appendTrackingDataToLinks=function(){__p&&__p();var a=this.getStories();for(var c=0;c<a.length;c++){var d=a[c],e=b("DataAttributeUtils").getDataFt(d);if(!e||e.indexOf("ei")===-1&&e.indexOf("mei")===-1)continue;e=b("DOM").scry(d,"a");for(var d=0;d<e.length;d++){var f=e[d];if(f.getAttribute("ajaxify")!=null)continue;if(f.getAttribute("rel")!=null)continue;var g=f.getAttribute("href");if(!g||g.charAt(0)==="#")continue;g=new(b("URI"))(f);if(g.domain==="m.facebook.com")continue;if(b("isFacebookURI")(g)===!1)continue;if(b("isLinkshimURI")(g)||b("FBLynxWrapper").isLynxLink(f))continue;if("hash"in g.getQueryData())continue;if(i&&(g.getPath()==="/ads/about"||g.getPath()==="/about/ads"))continue;if(k){g=n(f).toString();b("Event").listen(f,"click",b("curry")(l,g));f.setAttribute("href","#");continue}f.setAttribute("href",n(f).toString());f.setAttribute("onmousedown","this.href = this.href.replace('__md__=0', '__md__=1');")}}};m.prototype.getHref=function(a){return a.getAttribute&&(a.getAttribute("ajaxify")||a.getAttribute("data-endpoint"))||a.action||a.href};m.prototype.sendLogRequest=function(a,c){__p&&__p();var d=a.ei||a.ai;!d&&a.mei&&(d=a.mf_story_key);if(a!==null&&typeof d==="string"){var e=!1;if(a.tn){var f=b("TrackingNodes").parseTrackingNodeString(a.tn);for(var h=0;h<f.length;h++){var i=f[h][0];switch(i){case b("TrackingNodes").types.LIKE_LINK:case b("TrackingNodes").types.UNLIKE_LINK:case b("TrackingNodes").types.COMMENT:case b("TrackingNodes").types.COMMENT_LINK:case b("TrackingNodes").types.ADD_COMMENT_BOX:case b("TrackingNodes").types.MULTI_ATTACHMENT_VIDEO:return;case b("TrackingNodes").types.XBUTTON:case b("TrackingNodes").types.HIDE_LINK:case b("TrackingNodes").types.REPORT_SPAM_LINK:case b("TrackingNodes").types.HIDE_ALL_LINK:case b("TrackingNodes").types.DROPDOWN_BUTTON:case b("TrackingNodes").types.UNHIDE_LINK:return;case b("TrackingNodes").types.RELATED_SHARE_ARTICLE:case b("TrackingNodes").types.RELATED_SHARE_VIDEO:return;case b("TrackingNodes").types.TRANSLATION:return;case b("TrackingNodes").types.ATTACHMENT:case b("TrackingNodes").types.USER_MESSAGE:e=!0;break}}}i=Date.now();h=500;a.duplicate_click=!!g[d]&&i-g[d]<h;g[d]=i;f=new(b("AsyncRequest"))("/ajax/ssinfeed/end/").setData(a).setAllowCrossPageTransition(!0).setMethod("POST");f.send();h=a.href;b("isLinkshimURI")(new(b("URI"))(h))&&new(b("URI"))(h).getQueryData()&&(h=new(b("URI"))(h).getQueryData().u);e&&!a.duplicate_click&&c!==null&&c.url&&h&&b("isFacebookURI")(new(b("URI"))(h))===!1&&(b("ExternalTrackingTag").sendRequest(c.url,c.tag_id,c.adgroup_id),b("BanzaiODS").bumpEntityKey("external_tracking_tags","request_sent"))}};m.prototype.onNewUserAction=function(a,c){__p&&__p();if(!c.node)return;a=this.getHref(c.node);var d=b("Parent").byTag(c.node,"input")||b("Parent").byTag(c.node,"button");!a&&d&&d.type=="submit"&&d.getAttribute&&b("DataAttributeUtils").getDataFt(d)&&(a="#");d=!1;if(c.node.getAttribute){var e=b("DataAttributeUtils").getDataFt(c.node);d=e&&e.indexOf("force_log_href")!=-1}!d&&c.event&&c.node.tagName==="A"&&c.event.defaultPrevented&&j&&(a="#");c.event&&(c.event.type==="click"||c.event.type==="contextmenu"||c.event.type==="mousedown")&&(e=b("collectDataAttributes")(c.node,["ft"]),e.ft.href=a,e.ft.mouse_type=c.event.type,e.ft.is_right_click=c.event.isRightClick()?1:0,e.ft.click_type=c.event.isRightClick()?"right_click":c.event.type==="click"?"left_click":"middle_click",d=b("collectDataAttributes")(c.node,["external-tracking-tags"]),a=b("collectDataAttributes")(c.node,["leadgen"]),a&&a.leadgen&&a.leadgen.submitted&&(e.ft.leadgen_submitted=1),this.sendLogRequest(e.ft,d["external-tracking-tags"]))};function n(a){var c=new(b("URI"))(a.href);a=b("collectDataAttributes")(a,["ft"]).ft;var d=c.getQueryData();d.ft=a;d.__md__=0;c.setQueryData(d);return c}e.exports={init:function(a){h===!1&&(new m().init(a),h=!0)},buildURL:n}}),null);
__d("UFIOrderingModeSelector.react",["cx","invariant","ix","Image.react","InlineBlock.react","Link.react","PopoverMenu.react","React","ReactXUIMenu","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").SelectableMenu,l=b("ReactXUIMenu").SelectableItem;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.onMenuItemClick=function(a,b){this.props.onOrderChanged(b.item.getValue())}.bind(this),b}a.prototype.render=function(){if(this.props.orderingModes===null||this.props.orderingModes===undefined||this.props.orderingModes.length===0)return null;var a=this.props.orderingModes.filter(function(a){return a.value==this.props.selectedMode}.bind(this)).map(function(a){return a.name}).pop();a||h(0);var c=b("React").createElement(k,{className:"_4tju",onItemClick:this.onMenuItemClick},this.props.orderingModes.map(function(a){return b("React").createElement(l,{key:a.value,value:a.value,label:a.name,selected:a.value===this.props.selectedMode},b("React").createElement("div",{className:"_3scm"},b("React").createElement("div",{className:"_3scn"},a.name),b("React").createElement("div",{className:"_3sco"},a.description)))}.bind(this)));return b("React").createElement("div",{className:"_3scp"},b("React").createElement(b("InlineBlock.react"),null,b("React").createElement(b("PopoverMenu.react"),{className:"_3scs",menu:c,alignh:this.props.alignh||"right"},b("React").createElement(b("Link.react"),null,a,b("React").createElement("div",{className:"_3sct"})))))};e.exports=a}),null);
__d("CommentsOrderingModeSelectorUsageTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:CommentsOrderingModeSelectorUsageLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAvailableOrders=function(a){this.$1.available_orders=b("GeneratedLoggerUtils").serializeVector(a);return this};a.prototype.setEndOrder=function(a){this.$1.end_order=a;return this};a.prototype.setPostFbid=function(a){this.$1.post_fbid=a;return this};a.prototype.setPostOwnerFbid=function(a){this.$1.post_owner_fbid=a;return this};a.prototype.setStartOrder=function(a){this.$1.start_order=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={available_orders:!0,end_order:!0,post_fbid:!0,post_owner_fbid:!0,start_order:!0,vc:!0};e.exports=a}),null);
__d("UFIOrderingModeSelectorContainer.react",["CommentsOrderingModeSelectorUsageTypedLogger","Random","React","SubscriptionsHandler","UFIConfig","UFIInstanceAction","UFIOrderingModeSelector.react","UFIOrderingModeStore","UFISharedDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={selectedMode:b("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid)},this.$1=null,this.onOrderChanged=function(a){var c=this.props.feedback;if(c.orderingmodes&&b("UFIConfig").logChangeOrderingModeUsageSampleRate>b("Random").random()){var d=c.orderingmodes.map(function(a){return a.value});new(b("CommentsOrderingModeSelectorUsageTypedLogger"))().setStartOrder(this.state.selectedMode).setEndOrder(a).setPostFbid(c.commentstargetfbid).setPostOwnerFbid(c.ownerid).setAvailableOrders(d).log()}b("UFISharedDispatcher").dispatch(b("UFIInstanceAction").changeOrderingMode(this.props.contextArgs,a))}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=new(b("SubscriptionsHandler"))(),this.$1.addSubscriptions(b("UFIOrderingModeStore").addListener(function(){if(!this.$1)return;this.setState({selectedMode:b("UFIOrderingModeStore").getState().get(this.props.contextArgs.instanceid)})}.bind(this)))};a.prototype.componentWillUnmount=function(){this.$1&&(this.$1.release(),this.$1=null)};a.prototype.shouldComponentUpdate=function(a,b){return this.state.selectedMode!==b.selectedMode};a.prototype.render=function(){return b("React").createElement(b("UFIOrderingModeSelector.react"),{alignh:this.props.alignh||"right",onOrderChanged:this.onOrderChanged,orderingModes:this.props.feedback.orderingmodes,selectedMode:this.state.selectedMode})};a.propTypes={feedback:c.shape({defaultcommentorderingmode:c.string.isRequired,orderingmodes:c.arrayOf(c.shape({name:c.string.isRequired,description:c.string.isRequired,selected:c.bool.isRequired,value:c.string.isRequired})).isRequired,commentstargetfbid:c.string.isRequired,ownerid:c.string.isRequired}).isRequired,contextArgs:c.object.isRequired,alignh:c.string};e.exports=a}),null);
__d("AttachmentRelatedShareConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARTICLE_CLICK:"article_click",VIDEO_CLICK:"video_click",FBVIDEO_CLICK:"fbvideo_click",FBVIDEO_VIEW:"fbvideo_view",GAME_CLICK:"game_click",PHOTO_CLICK:"photo_click",EVENT_JOIN:"event_join",PRODUCT_CLICK:"product_click",MAP_CLICK:"map_click",ACTION_BUTTON_CLICK:"action_button_click",SHOW_FOLLOW_CLICK:"show_follow_click"})}),null);