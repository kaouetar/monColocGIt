if (self.CavalryLogger) { CavalryLogger.start_js(["9PLew"]); }

__d("FeedBlacklistButton",["Arbiter","Event"],(function(a,b,c,d,e,f){__p&&__p();var g={BLACKLIST:"feed_blacklist",UNBLACKLIST:"feed_unblacklist",init:function(a,c,d,e){b("Event").listen(c,"click",function(){var a={profile_id:e};b("Arbiter").inform(g.BLACKLIST,a);b("Arbiter").inform("UnfollowingUser",a)}),b("Event").listen(d,"click",function(){var a={profile_id:e};b("Arbiter").inform(g.UNBLACKLIST,a);b("Arbiter").inform("FollowingUser",a)}),b("Arbiter").subscribe(g.BLACKLIST,function(b,c){e==c.profile_id&&a.swap()}),b("Arbiter").subscribe(g.UNBLACKLIST,function(b,c){e==c.profile_id&&a.unswap()})}};e.exports=a.FeedBlacklistButton||g}),null);
__d("FollowRequestResultEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REVERT:"revert"})}),null);
__d("MenuStaticItem",["cx","DOM","MenuItemBase","React","ReactDOM","emptyFunction"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("MenuItemBase"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this),this._data=a}a.prototype._renderItemContent=function(){"use strict";var a=b("DOM").create("span",{className:"_54nc _54ah"});this._data.children?b("ReactDOM").render(b("React").createElement("span",{className:"_54nh"},this._data.children),a):b("DOM").setContent(a,b("DOM").create("span",{className:"_54nh"},this._data.markup));return a};Object.assign(a.prototype,{handleClick:b("emptyFunction")});e.exports=a}),null);
__d("ProfileSubFollowStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REGULAR_FOLLOW:"follow",RECAP:"recap",SEE_FIRST:"see_first",SUBSCRIBE_ALL_LIVE_NOTIFICATIONS:"subscribe_all_live_notifications",SUBSCRIBE_SUGGESTED_LIVE_NOTIFICATIONS:"subscribe_suggested_live_notifications",SUBSCRIBE_NONE_LIVE_NOTIFICATIONS:"subscribe_none_live_notifications",UNFOLLOW:"unfollow"})}),null);
__d("SeeFirstNuxEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SWITCHER_NUX_IMP:"switcher_nux_imp",SEE_FIRST_SELECTED:"see_first_selected",XOUT:"xout",NOT_NOW:"not_now",IMP:"imp",ENTER_DIALOG:"enter_dialog",BATCH_SEE_FIRST_SELECTED:"batch_see_first_selected"})}),null);
__d("XFeedSeeFirstNuxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/control/see_first/nux/",{})}),null);
__d("ProfileHoverButton",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","FollowRequestResultEnum","MenuStaticItem","ProfileSubFollowStatus","Run","SeeFirstNuxEvents","SubscribeButton","SubscriptionsHandler","XFeedSeeFirstNuxController"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=1,j="live_notifs",k={follow:0,see_first:0,subscribe_all_live_notifications:j,subscribe_suggested_live_notifications:j,subscribe_none_live_notifications:j};function a(a,c,d,e,f){"use strict";this.$1=c,this.$2=d,this.$3=f,this.$4=e,this.$5=a,this.$6=null,this.$7=new(b("SubscriptionsHandler"))(),this.$2.subscribe("itemclick",function(a,c){if(c.item instanceof b("MenuStaticItem"))return;a=c.item.getValue();a==="unfollow"?(b("Arbiter").inform(b("SubscribeButton").UNSUBSCRIBED,{profile_id:this.$3.id}),b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,{profile_id:this.$3.id}),this.$4&&this.$4.hide(),this.$5.getPopover().hideLayer()):(this.setSelected(a),a===b("ProfileSubFollowStatus").SEE_FIRST?(this.$4&&(this.$4.hide(),this.logNux(b("SeeFirstNuxEvents").SEE_FIRST_SELECTED)),b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!0})):a===b("ProfileSubFollowStatus").REGULAR_FOLLOW&&b("Arbiter").inform(b("SubscribeButton").SUBSCRIBED,{profile_id:this.$3.id,see_first:!1}))}.bind(this)),this.$7.addSubscriptions(b("Arbiter").subscribe(b("SubscribeButton").SUBSCRIBED,function(a,c){this.setSelected(c.see_first?b("ProfileSubFollowStatus").SEE_FIRST:b("ProfileSubFollowStatus").REGULAR_FOLLOW)}.bind(this))),this.$7.addSubscriptions(b("Arbiter").subscribe(b("FollowRequestResultEnum").REVERT,this.handleResponse.bind(this))),this.$4&&(this.$4.show(),this.logNux(b("SeeFirstNuxEvents").IMP),this.$7.addSubscriptions(b("Event").listen(b("DOM").find(this.$4.getRoot(),"._50zy"),"click",this.logNux.bind(this,b("SeeFirstNuxEvents").XOUT)))),b("Run").onLeave(this.cleanUp.bind(this))}a.prototype.logNux=function(event){"use strict";var a=b("XFeedSeeFirstNuxController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setData({event:event,id:this.$3.id}).send()};a.prototype.getButtons=function(){"use strict";return b("DOM").scry(this.$1,"._3oz-")};a.prototype.getSelected=function(){"use strict";var a=this.getButtons(),c=null;a.forEach(function(a){var d=a.getAttribute("data-status");b("CSS").matchesSelector(a,"._52-0")&&(c=d)});return c};a.prototype.setSelected=function(a){"use strict";__p&&__p();this.$6=this.getSelected();var c=this.getButtons(),d=k[a];c.forEach(function(c){if(d===j)return;var e=c.getAttribute("data-status");e===a?b("CSS").addClass(c,"_52-0"):b("CSS").removeClass(c,"_52-0")});this.$2.forEachItem(function(c){if(!c.getValue)return;var e=c.getValue(),f=k[e];if(e==="unfollow")return;c=c.getRoot();e===a?b("CSS").addClass(c,"_52-0"):f===d&&b("CSS").removeClass(c,"_52-0")})};a.prototype.handleResponse=function(event,a){"use strict";if(a.id!==this.$3.id||a.location!==i)return;event===b("FollowRequestResultEnum").REVERT&&this.revert()};a.prototype.revert=function(){"use strict";if(this.$6===null)return;this.setSelected(this.$6)};a.prototype.cleanUp=function(){"use strict";this.$7&&this.$7.release(),this.$7=null,this.$1=null,this.$2=null,this.$3=null};e.exports=a}),null);
__d("SeeFirstProfilePopoverMenu",["PopoverMenu"],(function(a,b,c,d,e,f){var g;g=babelHelpers.inherits(a,b("PopoverMenu"));g&&g.prototype;a.prototype._onMenuDone=function(a){"use strict"};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("SubscriptionLevels",[],(function(a,b,c,d,e,f){a=Object.freeze({ALL:"162318810514679",DEFAULT:"271670892858696",TOP:"266156873403755"});e.exports=a}),null);
__d("EditSubscriptions",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=45,j=[b("SubscriptionLevels").ALL,b("SubscriptionLevels").DEFAULT,b("SubscriptionLevels").TOP],k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v="/ajax/follow/follow_profile.php",w="/ajax/follow/unfollow_profile.php",x="/ajax/settings/notifications/notify_me.php",y={},z={},A={},B=null,C={};function D(a){return j.includes(a)}function E(a,c,d,e){__p&&__p();e=b("Parent").byClass(e,"uiMenuItem")||b("Parent").bySelector(e,"._54ni");var f=b("getOrCreateDOMID")(a);if(!e||!b("DOM").contains(a,e))return;else if(b("CSS").hasClass(e,"SubscribeMenuSubscribeCheckbox")){m[c]?J(f,c):I(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuUnsubscribe")){J(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuSettingsItem")){V(a,!0);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuGoBack")){V(a,!1);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuItem")){G(a,c,d,e);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuNotifyMeCheckbox")){F(a,c);return!1}}function F(a,b){n[b]?Z(a,b):Y(a,b)}function G(a,c,d,e){if(b("CSS").hasClass(e,"SubscriptionMenuLevel")){if(b("MenuDeprecated").isItemChecked(e))return;T(a,c,M(e),!0,d)}else b("CSS").hasClass(e,"SubscriptionMenuCategory")?Q(c,e,!b("MenuDeprecated").isItemChecked(e),!0,d):b("CSS").hasClass(e,"SubscriptionAppStory")&&S(c,e,!b("MenuDeprecated").isItemChecked(e),d)}function H(a){return C[a]?C[a]:0}function I(a,c){var d={profile_id:c};b("Arbiter").inform("FollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,d);new(b("AsyncRequest"))().setURI(v).setMethod("POST").setData({profile_id:c,location:H(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"FollowUserFail",d)).send()}function J(a,c){var d={profile_id:c};b("Arbiter").inform("UnfollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,d);new(b("AsyncRequest"))().setURI(w).setMethod("POST").setData({profile_id:c,location:H(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"UnfollowUserFail",d)).send()}function K(a,c,d){c={profile_id:a,level:r[a],custom_categories:s[a],location:d};new(b("AsyncRequest"))().setURI("/ajax/follow/manage_subscriptions.php").setData(c).send()}function L(a,c){__p&&__p();var d=s[c]||[],e=b("MenuDeprecated").getItems(a);e.forEach(function(a){if(b("CSS").hasClass(a,"SubscriptionMenuCategory")){var e=M(a);d.includes(e)?O(a):P(a)}else if(b("CSS").hasClass(a,"SubscriptionAppStory")){e=M(a);A[c]&&A[c][e]?O(a):P(a)}});T(a,c,r[c],!1)}function M(a){a=b("DOM").scry(a,"input")[0];return a&&a.value}function N(a){return b("DOM").find(a,"a.itemAnchor")}function O(a){b("CSS").addClass(a,"checked"),N(a).setAttribute("aria-checked",!0)}function P(a){b("CSS").removeClass(a,"checked"),N(a).setAttribute("aria-checked",!1)}function Q(a,b,c,d,e){__p&&__p();c?O(b):P(b);b=M(b);if(D(b))c&&R(a,b);else if(c)s[a].includes(b)||s[a].push(b);else{c=s[a].indexOf(b);c!==-1&&s[a].splice(c,1)}d&&K(a,b,e)}function R(a,c){r[a]=c,b("Arbiter").inform("SubscriptionLevelUpdated",{profile_id:a,level:c})}function S(a,c,d,e){e="/ajax/feed/filter_action/";var f=M(c),g={actor_id:a,app_id:f};d?(O(c),e+="resubscribe_user_app/",g.action="resubscribe_user_app",A[a]||(A[a]={}),A[a][f]=!0):(P(c),e+="unsubscribe_user_app_checkbox/",g.action="unsubscribe_user_app_checkbox",A[a]&&(A[a][f]=!1));new(b("AsyncRequest"))().setURI(e).setData(g).send()}function T(a,c,d,e,f){a=b("DOM").scry(a,".SubscriptionMenuLevel");var g=null;a.forEach(function(a){M(a)==d?g=a:b("MenuDeprecated").isItemChecked(a)&&Q(c,a,!1,!1)});g&&Q(c,g,!0,e,f)}function U(a,c,d){m[c]=d;b("CSS").conditionClass(a,"isUnsubscribed",!d);c=b("DOM").scry(a,"li.SubscribeMenuSubscribeCheckbox");if(c.length!==0){a=c[0];d?O(a):P(a)}}function V(a,c){b("CSS").conditionClass(a,"subscriptionMenuOpen",c)}function W(a,c,d){c=b("DOM").find(a,".FriendListSubscriptionsMenu");var e=b("DOM").find(c,".uiMenuInner");B!=null&&B.forEach(function(a){e.removeChild(a)});d.forEach(function(a){e.appendChild(a)});B=d}b("Arbiter").subscribe("UnfollowUser",function(a,b){t[b.profile_id]&&(R(b.profile_id,t[b.profile_id]),s[b.profile_id]=u[b.profile_id].slice())});b("Arbiter").subscribe("UpdateSubscriptionLevel",function(a,c){a=c.profile_id+"";c=c.level+"";R(a,c);var d;for(d in k)if(k[d]===a){var e=b("ge")(d);e&&T(e,a,c,!1)}});b("Arbiter").subscribe("listeditor/close_editor",function(){var a;for(a in k){var c=b("ge")(a);c&&V(c,!1)}});function X(a,c,d){__p&&__p();n[c]=d;c=z[c];if(c){d?c.select():c.deselect();return}c=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckbox");if(c.length!==0){c=c[0];b("CSS").conditionShow(c,!0);a=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckboxSeparator");a.length>0&&b("CSS").conditionShow(a[0],!0);d?O(c):P(c)}}function Y(a,c){a={profile_id:c};b("Arbiter").inform("EnableNotifsForUser",a);new(b("AsyncRequest"))().setURI(x).setMethod("POST").setData({notifier_id:c,enable:!0}).setErrorHandler(b("Arbiter").inform.bind(null,"EnableNotifsForUserFail",a)).send()}function Z(a,c){a={profile_id:c};b("Arbiter").inform("DisableNotifsForUser",a);new(b("AsyncRequest"))().setURI(x).setMethod("POST").setData({notifier_id:c,enable:!1}).setErrorHandler(b("Arbiter").inform.bind(null,"DisableNotifsForUserFail",a)).send()}c={init:function(a,c,d){__p&&__p();var e=b("getOrCreateDOMID")(a);C[e]=d;k[e]||b("Event").listen(a,"click",function(b){return E(a,k[e],d,b.getTarget())});d===i&&y[c].length&&W(a,c,y[c]);r[c]&&L(a,c);k[e]=c;b("CSS").conditionClass(a,"NonFriendSubscriptionMenu",!l[c]);b("CSS").conditionClass(a,"cannotSubscribe",!o[c]);b("CSS").conditionClass(a,"noSubscriptionLevels",p[c]&&!q[c]);b("CSS").conditionClass(a,"noSubscribeCheckbox",!l[c]&&!p[c]);U(a,c,m[c]);X(a,c,n[c]);b("Arbiter").subscribe(["FollowUser","FollowingUser","UnfollowUserFail"],function(b,d){d.profile_id==c&&U(a,c,!0)}.bind(this));b("Arbiter").subscribe(["UnfollowUser","UnfollowingUser","FollowUserFail"],function(d,e){e.profile_id==c&&(b("Arbiter").inform("SubMenu/Reset"),U(a,c,!1))}.bind(this));b("Arbiter").subscribe(["EnableNotifsForUser","DisableNotifsForUserFail"],function(b,d){d.profile_id==c&&X(a,c,!0)}.bind(this));b("Arbiter").subscribe(["DisableNotifsForUser","EnableNotifsForUserFail"],function(b,d){d.profile_id==c&&X(a,c,!1)}.bind(this));b("Arbiter").subscribe("listeditor/friend_lists_changed",function(b,c){if(c.notify_state){b=c.added_uid?c.added_uid:c.removed_uid;X(a,b,c.notify_state.is_notified)}}.bind(this))},getSubscriptions:function(a){return{level:r[a],custom_categories:s[a]}},registerTimelineNotifySelector:function(a,c){var d=a.getInitialMenu(),e=a.getContentRoot();d.forEachItem(function(a){var d=a.getRoot();b("CSS").hasClass(d,"SubscribeMenuNotifyMeCheckbox")&&(z[c]=a,X(e,c,n[c]))});d.subscribe("itemclick",function(a,b){b.item===z[c]&&F(e,c);return!0})},toggleNotificationsOnJoin:function(a,b){n[a]!==b&&F(null,a)},setSubscriptions:function(a,b,c,d,e,f,g,h,i,j,k,r){R(a,g+""),l[a]=b,m[a]=c,o[a]=d,p[a]=e,q[a]=f,t[a]=i+"",s[a]=h.map(String),u[a]=j.map(String),y[a]=r,n[a]=k}};e.exports=a.EditSubscriptions||c}),null);
__d("PopoverMenuShowOnHover",["DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();var g=250;function a(a){"use strict";this._handleOnSetMenu=function(){this._attachMouseListeners(this._popoverMenu.getPopover().getLayer().getRoot())}.bind(this),this._popoverMenu=a,this._listeners=[]}a.prototype.enable=function(){"use strict";this._attachMouseListeners(this._popoverMenu.getTriggerElem()),this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",this._handleOnSetMenu)};a.prototype.disable=function(){"use strict";this._lastHoverEventTime=null;while(this._listeners.length)this._listeners.pop().remove();this._setMenuSubscription&&(this._setMenuSubscription.unsubscribe(),this._setMenuSubscription=null)};a.prototype._attachMouseListeners=function(a){"use strict";this._listeners.push(b("Event").listen(a,"mouseleave",function(a){if(b("DOM").contains(this._popoverMenu.getTriggerElem(),a.relatedTarget)||b("DOM").contains(this._popoverMenu.getMenu().getRoot(),a.relatedTarget))return;this._popoverMenu.getPopover().hideLayer(a)}.bind(this)),b("Event").listen(a,"mouseenter",function(a){this._lastHoverEventTime=Date.now(),this._popoverMenu.getPopover().showLayer()}.bind(this)),b("Event").listen(a,"click",function(a){Date.now()<this._lastHoverEventTime+g&&a.stop()}.bind(this)))};e.exports=a}),null);
__d("PagesLikeFollowNotifActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INIT_DATA:"init_data",LIKE:"like",UNLIKE:"unlike",FOLLOW_CHANGED:"follow_changed",SNOOZE_CHANGED:"snooze_changed",NOTIF_CHANGE:"notif_change",NOTIF_ALL_ON:"notif_all_on",NOTIF_ALL_OFF:"notif_all_off",NEWS_FEED_CHANGE:"news_feed_change"})}),null);
__d("PagesLikeFollowNotifDispatcher",["Arbiter","ExplicitRegistrationReactDispatcher","PageLikeConstants","PagesLikeFollowNotifActions","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a);a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("PageLikeConstants").LIKED,function(a,b){return this.dispatchLike(b.profile_id)}.bind(this)),b("Arbiter").subscribe(b("PageLikeConstants").UNLIKED,function(a,b){return this.dispatchUnlike(b.profile_id)}.bind(this)))}a.prototype.dispatchLike=function(a){this.dispatch({type:b("PagesLikeFollowNotifActions").LIKE,data:{pageID:a,likeStatus:!0}})};a.prototype.dispatchUnlike=function(a){this.dispatch({type:b("PagesLikeFollowNotifActions").UNLIKE,data:{pageID:a,likeStatus:!1}})};e.exports=new a({strict:!0})}),null);
__d("PagesFollowStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){var d=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").INIT_DATA:if(c.data.pageID in a)return a;d[c.data.pageID]=c.data.followStatus;return d;case b("PagesLikeFollowNotifActions").FOLLOW_CHANGED:d[c.data.pageID]=c.data.followStatus;return d}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("MenuSeparator",["cx","DOM","CSS","MenuItemInterface"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=babelHelpers.inherits(a,b("MenuItemInterface"));h=c&&c.prototype;function a(a){"use strict";h.constructor.call(this,a),this._data=a,this.showFn=this._data.should_show_fn}a.prototype.updateShownState=function(a){"use strict";this.showFn&&(this._isHidden=!this.showFn(a),this._root&&b("CSS").conditionShow(this._root,!this._isHidden))};a.prototype.isShown=function(a){"use strict";a=this.showFn?this.showFn(a):!0;return a};a.prototype.render=function(){"use strict";var a="_54ak";this._data.className&&(a+=" "+this._data.className);var c=this._data.label||"";a=b("DOM").create("li",{className:a,role:"separator"},c);this._isHidden&&b("CSS").hide(a);return a};e.exports=a}),null);
__d("ButtonGroupMonitor",["ContextualDialog","ContextualLayer","CSS","Layer","Parent","SelectorDeprecated","DataStore"],(function(a,b,c,d,e,f){function g(a,c){a=b("Parent").byClass(a,"bg_stat_elem")||b("Parent").byClass(a,"uiButtonGroup");!a&&c&&(a=b("DataStore").get(c,"toggleElement",null));a&&(c&&b("DataStore").set(c,"toggleElement",a),b("CSS").toggleClass(a,"uiButtonGroupActive"))}b("Layer").subscribe(["hide","show"],function(a,c){(c instanceof b("ContextualLayer")||c instanceof b("ContextualDialog"))&&g(c.getCausalElement(),c)});b("SelectorDeprecated").subscribe(["close","open"],function(a,b){g(b.selector)})}),null);